<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.junjun.messages.mapper.LoginMapper">
<resultMap id="BaseResultMap" type="com.junjun.messages.beans.UserDO">
    <id column="id" property="id" jdbcType="BIGINT"/>
    <result column="user_name" property="userName" jdbcType="VARCHAR"/>
    <result column="user_dis_name" property="userDisName" jdbcType="VARCHAR"/>
    <result column="user_pass" property="userPass" jdbcType="VARCHAR"/>
    <result column="user_avatar" property="userAvatar" jdbcType="VARCHAR"/>
    <result column="user_desc" property="userDesc" jdbcType="VARCHAR"/>
    <result column="user_email" property="userEmail" jdbcType="VARCHAR"/>
    <result column="status" property="status" jdbcType="TINYINT"/>
    <result column="login_last" property="loginLast" jdbcType="DATE"/>
    <result column="create_time" property="createTime" jdbcType="DATE"/>
</resultMap>
    <sql id="Base_Column_List">
        id,user_name,user_dis_name,user_pass,user_avatar,user_desc,user_email,status,login_last,create_time
    </sql>

    <select id="getUser" resultType="com.junjun.messages.beans.UserDO">
        SELECT
            u.id,
            u.user_name,
            u.user_pass,
            u.user_dis_name,
            u.user_avatar
        FROM
            mess_user u
        WHERE u.status = '0'
            AND u.user_name = #{userName}
            AND u.user_pass = #{userPass}

    </select>
    <select id="getUserById" resultMap="BaseResultMap">
        select
        <include refid="Base_Column_List"/>
        from mess_user
        where id=#{id,jdbcType=BIGINT}
    </select>

</mapper>